import{e as Y,i as a,J as z,l as m,a0 as V,W as j,Z as I,v as B,o as p,x as e,z as w,A as M,C as h,u as t,s as R,F as L,D as q,a1 as W,a as D,y as H,L as k,X as $,E as S,t as T,B as C,V as U,c as F,G as X,H as Z}from"./entry.9ff7ed65.js";import{_ as O}from"./logo.62c54f25.js";import{o as K}from"./index.14a89fd8.js";const Q=Y({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(N,{slots:l,attrs:i}){const o=a(!1);return z(()=>{o.value=!0}),r=>{var d;if(o.value)return(d=l.default)==null?void 0:d.call(l);const f=l.fallback||l.placeholder;if(f)return f();const _=r.fallback||r.placeholder||"",n=r.fallbackTag||r.placeholderTag||"span";return m(n,i,_)}}}),ee={class:"bg-darkGreen"},te={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},se={class:"relative flex h-16 items-center justify-between"},oe=R('<div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>',1),ne={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},ae=e("div",{class:"flex flex-shrink-0 items-center"},[e("img",{class:"block h-8 w-8 lg:hidden",src:O,alt:"Your Company"}),e("img",{class:"hidden h-8 w-8 lg:block",src:O,alt:"Your Company"})],-1),le={class:"hidden sm:ml-6 sm:block"},ie={class:"flex space-x-4"},re={key:0},de={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},ce={class:"sm:hidden",id:"mobile-menu"},ue={class:"space-y-1 px-2 pt-2 pb-3"},pe={__name:"Nav",setup(N){const{toggle:l}=V(),{toggleSigup:i}=V(),{isAuth:o}=j(I()),r=B();async function f(){try{await r("/auth/jwt/destroy/",{method:"POST",credentials:"include"}),o.value=!1}catch(_){console.log(_.message)}finally{await L("/")}}return(_,n)=>{const d=q,b=Q;return p(),m("nav",ee,[e("div",te,[e("div",se,[oe,e("div",ne,[ae,e("div",le,[e("div",ie,[w(d,{class:"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium",to:"/"},{default:M(()=>[h("Home")]),_:1}),w(d,{class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",to:"/dashboard/report"},{default:M(()=>[h(" DNA Testing Application")]),_:1})])])]),w(b,null,{default:M(()=>[t(o)?(p(),m("div",re,[e("button",{onClick:f,class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:ring-2 hover:ring-slate-100 hover:ring-inset"}," Logout ")])):(p(),m("div",de,[e("button",{id:"openModal",onClick:n[0]||(n[0]=(...g)=>t(l)&&t(l)(...g)),class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:ring-2 hover:ring-slate-100 hover:ring-inset"}," Sign in "),e("button",{id:"openModal",onClick:n[1]||(n[1]=(...g)=>t(i)&&t(i)(...g)),class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:bg-slate-100 hover:text-slate-900"}," Sign up ")]))]),_:1})])]),e("div",ce,[e("div",ue,[w(d,{class:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium",to:"/about"},{default:M(()=>[h("About")]),_:1}),w(d,{class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",to:"/"},{default:M(()=>[h("Home")]),_:1}),w(d,{class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",to:"/posts/1"},{default:M(()=>[h("Post 1")]),_:1}),w(d,{class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",to:"/posts/2"},{default:M(()=>[h("Post 2")]),_:1})])])])}}};function me(N,l){let i=o=>{const r=document.querySelectorAll("#openModal");o.target===N.value||o.composedPath().includes(N.value)||o.target===r[0]||l()};z(()=>{window.addEventListener("click",i),document.documentElement.style.overflow="hidden"}),W(()=>{window.removeEventListener("click",i),document.documentElement.style.overflow="",console.log("unmo")})}const _e={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},fe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ge={class:"fixed inset-0 z-10 overflow-y-auto"},he={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ve=["onSubmit"],be={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ye=e("h2",{class:"text-2xl font-bold"},"Sign in to your account",-1),xe={class:"mt-8"},we={class:"grid grid-cols-1 gap-6"},ke={class:"block"},$e=e("span",{class:"text-gray-700"},"Username",-1),Se={class:"block"},Ce=e("span",{class:"text-gray-700"},"Password",-1),Ne={class:"p-4"},Me={class:"flex flex-col items-center shrink-0"},Ue=["disabled"],Ve={key:0},Te=e("span",{"aria-hidden":"true"},"\u2192",-1),je={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ee=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Ae=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Be=[Ee,Ae],Pe={__name:"SignIn",setup(N){const l=a(null),i=a(null),o=a(null),{showModal:r}=j(V()),{isAuth:f}=j(I()),{$showToast:_}=D(),n=a(!1),d=()=>{r.value=!1},b=B();me(l,d);async function g(){n.value=!0;try{const y=await b("/auth/jwt/create/",{method:"POST",credentials:"include",body:JSON.stringify({username:i.value,password:o.value})});f.value=!0,r.value=!1,_("Success","success",2e3),await L("/dashboard/report")}catch{_("Fail Sign in","error",2e3)}finally{n.value=!1}}return(y,v)=>(p(),m("div",_e,[fe,e("div",ge,[e("div",he,[e("form",{onSubmit:H(g,["prevent"]),ref_key:"testModal",ref:l,class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[e("div",be,[ye,e("div",xe,[e("div",we,[e("label",ke,[$e,k(e("input",{"onUpdate:modelValue":v[0]||(v[0]=x=>S(i)?i.value=x:null),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[$,t(i)]])]),e("label",Se,[Ce,k(e("input",{"onUpdate:modelValue":v[1]||(v[1]=x=>S(o)?o.value=x:null),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[$,t(o)]])]),e("div",Ne,[e("div",Me,[e("button",{disabled:t(n),class:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-gray-800 text-white hover:text-slate-100 hover:bg-gray-500 active:bg-gray-800 active:text-gray-100 focus-visible:outline-gray-600 w-full"},[t(n)?(p(),m("svg",je,Be)):(p(),m("span",Ve,[h("Sign in "),Te]))],8,Ue)])])])])])],40,ve)])])]))}},Fe={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Oe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ze={class:"fixed inset-0 z-10 overflow-y-auto"},Ie={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Le=["onSubmit"],De={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},He=e("h2",{class:"text-2xl font-bold"},"Let's Get You Signed Up",-1),Ge={class:"mt-8"},Je={class:"grid grid-cols-2 gap-6"},Ye={class:U({"error-input":!1})},Re={class:"block"},qe=e("span",{class:"text-gray-700"},"First Name",-1),We={key:0,class:"text-pink-600"},Xe={class:"block"},Ze=e("span",{class:"text-gray-700"},"Last Name",-1),Ke={key:0,class:"text-pink-600"},Qe={class:"block col-span-2"},et={class:"text-gray-700"},tt={key:0,class:"text-pink-600"},st={class:"block col-span-2"},ot=e("span",{class:"text-gray-700"},"Email address",-1),nt={key:0,class:"text-pink-600"},at={class:"block col-span-2"},lt={class:"text-gray-700"},it={key:0,class:"text-pink-600"},rt={class:"block col-span-2"},dt={class:"text-gray-700"},ct={key:0,class:"text-pink-600"},ut=e("div",{class:"p-4 col-span-2"},[e("div",{class:"flex flex-col items-center shrink-0"},[e("button",{class:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-gray-800 text-white hover:text-slate-100 hover:bg-gray-500 active:bg-gray-800 active:text-gray-100 focus-visible:outline-gray-600 w-full",type:"submit"},[e("span",null,[h("Sign up "),e("span",{"aria-hidden":"true"},"\u2192")])])])],-1),pt={__name:"SignUp",setup(N){const{toggleSigup:l}=V(),i=a(null);j(V());const o=()=>{l()};K(i,o);const r=a(),f=a(),_=a(),n=a(""),d=a(""),b=a(""),g=a(""),y=a(""),v=a(),x=a(),E=a(),A=a(),{$showToast:P}=D(),G=B();async function J(){await G("/auth/users/",{method:"POST",body:JSON.stringify({email:x.value,first_name:r.value,last_name:f.value,username:_.value,password:E.value,re_password:A.value})}).then(()=>{P("Success","success",2e3),o()}).catch(c=>{console.log(c.response._data),n.value="first_name"in c.response._data?c.response._data.first_name[0]:"",d.value="last_name"in c.response._data?c.response._data.last_name[0]:"",v.value="email"in c.response._data?c.response._data.email[0]:"",b.value="username"in c.response._data?c.response._data.username[0]:"",g.value="password"in c.response._data?c.response._data.password[0]:"",y.value="re_password"in c.response._data?c.response._data.re_password[0]:"","non_field_errors"in c.response._data&&(g.value=c.response._data.non_field_errors[0],y.value=c.response._data.non_field_errors[0]),P("Fail","error",2e3)})}return(c,s)=>(p(),m("div",Fe,[Oe,e("div",ze,[e("div",Ie,[e("div",{ref_key:"target",ref:i,class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[e("form",{onSubmit:H(J,["prevent"])},[e("div",De,[He,e("div",Ge,[e("div",Je,[e("div",Ye,[e("label",Re,[qe,t(n)?(p(),m("span",We,T(t(n)),1)):C("",!0),k(e("input",{class:U([{"error-input":t(n)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[0]||(s[0]=u=>n.value=""),"onUpdate:modelValue":s[1]||(s[1]=u=>S(r)?r.value=u:null),type:"text",placeholder:""},null,34),[[$,t(r)]])])]),e("label",Xe,[Ze,t(d)?(p(),m("span",Ke,T(t(d)),1)):C("",!0),k(e("input",{class:U([{"error-input":t(d)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[2]||(s[2]=u=>d.value=""),"onUpdate:modelValue":s[3]||(s[3]=u=>S(f)?f.value=u:null),type:"text",placeholder:""},null,34),[[$,t(f)]])]),e("label",Qe,[e("span",et,[h("Username "),t(b)?(p(),m("span",tt,T(t(b)),1)):C("",!0)]),k(e("input",{class:U([{"error-input":t(b)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[4]||(s[4]=u=>b.value=""),"onUpdate:modelValue":s[5]||(s[5]=u=>S(_)?_.value=u:null),type:"text"},null,34),[[$,t(_)]])]),e("label",st,[ot,t(v)?(p(),m("span",nt,T(t(v)),1)):C("",!0),k(e("input",{class:U([{"error-input":t(v)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[6]||(s[6]=u=>v.value=""),"onUpdate:modelValue":s[7]||(s[7]=u=>S(x)?x.value=u:null),type:"email",placeholder:"john@example.com"},null,34),[[$,t(x)]])]),e("label",at,[e("span",lt,[h("Password "),t(g)?(p(),m("span",it,T(t(g)),1)):C("",!0)]),k(e("input",{class:U([{"error-input":t(g)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[8]||(s[8]=u=>g.value=""),"onUpdate:modelValue":s[9]||(s[9]=u=>S(E)?E.value=u:null),type:"password"},null,34),[[$,t(E)]])]),e("label",rt,[e("span",dt,[h("Confirm password "),t(y)?(p(),m("span",ct,T(t(y)),1)):C("",!0)]),k(e("input",{class:U([{"error-input":t(y)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:s[10]||(s[10]=u=>y.value=""),"onUpdate:modelValue":s[11]||(s[11]=u=>S(A)?A.value=u:null),type:"password"},null,34),[[$,t(A)]])]),ut])])])],40,Le)],512)])])]))}},gt={__name:"default",setup(N){const{showSigup:l}=j(V()),{showModal:i}=j(V());return(o,r)=>{const f=pe,_=Pe,n=pt;return p(),m(Z,null,[e("header",null,[w(f)]),t(i)?(p(),F(_,{key:0})):C("",!0),t(l)?(p(),F(n,{key:1})):C("",!0),X(o.$slots,"default")],64)}}};export{gt as default};
