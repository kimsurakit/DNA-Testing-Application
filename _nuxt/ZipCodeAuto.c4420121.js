import{o as w}from"./index.14a89fd8.js";import{i as p,j as V,o as u,l,x as g,t as h,u as d,H as k,I as D,B as $,v as z,J as T,K as N,L,M as S}from"./entry.9ff7ed65.js";const G={class:"relative"},M={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"},P=["value"],B=["onClick"],Q={__name:"DistricAuto",props:["msg","modelValue","zipcode","url","keyfiled","subDistrict","district","province","eng","subDistrictEn","districtEn","provinceEn","test"],emits:["update:zipcode","update:subDistrict","update:district","update:province","update:subDistrictEn","update:districtEn","update:provinceEn","update:modelValue"],setup(i,{emit:t}){const r=i,v=p(null),n=p(!1);w(v,()=>{n.value=!1});function c(e){n.value=!0;let f=e.target.value;t("update:modelValue",f)}const o=V({get(){return r.modelValue===""||!r.modelValue?[...r.test]:r.test.filter(e=>{if(e.district.nameTH.toString().toLowerCase().startsWith(r.modelValue.toLowerCase()))return e})},set(e){}});function x(){(r.modelValue===""||!r.modelValue)&&(o.value=[...r.test]),n.value=!0}const y=async e=>{n.value=!1,t("update:zipcode",e.zipCode),t("update:subDistrict",e.subDistrict.nameTH),t("update:modelValue",e.district.nameTH),t("update:province",e.province.nameTH),r.eng&&(t("update:subDistrictEn",e.subDistrict.nameEN),t("update:districtEn",e.district.nameEN),t("update:provinceEn",e.province.nameEN))};return(e,f)=>(u(),l("div",G,[g("label",M,h(i.msg),1),g("input",{type:"text",value:i.modelValue,onClick:x,onInput:c,class:"invalid:border-pink-500 invalid:text-pink-600 invalid:border border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},null,40,P),d(o).length&&d(n)?(u(),l("ul",{key:0,ref_key:"target",ref:v,class:"max-h-56 overflow-y-auto absolute z-20 w-full text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200"},[(u(!0),l(k,null,D(d(o),(s,m)=>(u(),l("li",{class:"py-2 px-4 w-full rounded-t-lg border-b border-gray-200 cursor-pointer",key:m,onClick:E=>y(s)},h(`${s.zipCode} > ${s.subDistrict.nameTH} > ${s.district.nameTH} > ${s.province.nameTH} `),9,B))),128))],512)):$("",!0)]))}},I={class:"relative"},A={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"},F=["value"],W=["onClick"],R={__name:"SubDistrictAuto",props:["msg","modelValue","zipcode","url","keyfiled","subDistrict","district","province","eng","subDistrictEn","districtEn","provinceEn","test"],emits:["update:zipcode","update:subDistrict","update:district","update:province","update:subDistrictEn","update:districtEn","update:provinceEn","update:modelValue"],setup(i,{emit:t}){const r=i,v=z(),n=p(null),b=p([]),c=p(""),o=p(!1);w(n,()=>{o.value=!1});function y(a){o.value=!0;let C=a.target.value;t("update:modelValue",C)}const e=V({get(){return r.modelValue?b.value.filter(a=>{if(a.name_th.toString().toLowerCase().includes(r.modelValue.toLowerCase()))return a}):b.value},set(a){}});async function f(){if(o.value=!0,b.value.length)return;const a=await v("/api/sub_district",{credentials:"include"});console.log(a.results),c.value=a.next,b.value=[...a.results]}const s=async a=>{o.value=!1,t("update:zipcode",a.zipCode),t("update:modelValue",a.subDistrict.nameTH),t("update:district",a.district.nameTH),t("update:province",a.province.nameTH),r.eng&&(t("update:subDistrictEn",a.subDistrict.nameEN),t("update:districtEn",a.district.nameEN),t("update:provinceEn",a.province.nameEN))};T(()=>{n.value.addEventListener("scroll",m)});async function m(a){a.target.scrollTop+a.target.offsetHeight>=a.target.scrollHeight&&E()}N(()=>{n.value.removeEventListener("scroll",m)});async function E(){if(c.value){const a=await $fetch(c.value,{credentials:"include"});b.value.push(...a.results),c.value=a.next}}return(a,C)=>(u(),l("div",I,[g("label",A,h(i.msg),1),g("input",{type:"text",value:i.modelValue,onClick:f,onInput:y,class:"invalid:border-pink-500 invalid:text-pink-600 invalid:border border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},null,40,F),L(g("ul",{ref_key:"target",ref:n,class:"max-h-56 overflow-y-auto absolute z-20 w-full text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200"},[(u(!0),l(k,null,D(d(e),(_,H)=>(u(),l("li",{class:"py-2 px-4 w-full rounded-t-lg border-b border-gray-200 cursor-pointer hover:bg-gray-200",key:H,onClick:U=>s(_)},h(`${_.zip_code} > ${_.name_th}`),9,W))),128))],512),[[S,d(e).length&&d(o)]])]))}},j={class:"relative"},J={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"},K=["value"],O=["onClick"],X={__name:"ZipCodeAuto",props:["msg","modelValue","zipcode","url","keyfiled","subDistrict","district","province","eng","subDistrictEn","districtEn","provinceEn","test"],emits:["update:zipcode","update:subDistrict","update:district","update:province","update:subDistrictEn","update:districtEn","update:provinceEn","update:modelValue"],setup(i,{emit:t}){const r=i,v=p(null),n=p(!1);w(v,()=>{n.value=!1});function c(e){n.value=!0;let f=e.target.value;t("update:modelValue",f)}const o=V({get(){return r.modelValue===""||!r.modelValue?[...r.test]:r.test.filter(e=>{if(e.zipCode.toString().toLowerCase().startsWith(r.modelValue.toLowerCase()))return e})},set(e){}});function x(){(r.modelValue===""||!r.modelValue)&&(o.value=[...r.test]),n.value=!0}const y=async e=>{n.value=!1,t("update:modelValue",e.zipCode),t("update:subDistrict",e.subDistrict.nameTH),t("update:district",e.district.nameTH),t("update:province",e.province.nameTH),r.eng&&(t("update:subDistrictEn",e.subDistrict.nameEN),t("update:districtEn",e.district.nameEN),t("update:provinceEn",e.province.nameEN))};return(e,f)=>(u(),l("div",j,[g("label",J,h(i.msg),1),g("input",{type:"text",value:i.modelValue,onClick:x,onInput:c,class:"invalid:border-pink-500 invalid:text-pink-600 invalid:border border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},null,40,K),d(o).length&&d(n)?(u(),l("ul",{key:0,ref_key:"target",ref:v,class:"max-h-56 overflow-y-auto absolute z-20 w-full text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200"},[(u(!0),l(k,null,D(d(o),(s,m)=>(u(),l("li",{class:"py-2 px-4 w-full rounded-t-lg border-b border-gray-200 cursor-pointer",key:m,onClick:E=>y(s)},h(`${s.zipCode} > ${s.subDistrict.nameTH} > ${s.district.nameTH} > ${s.province.nameTH} `),9,O))),128))],512)):$("",!0)]))}};export{Q as _,R as a,X as b};
