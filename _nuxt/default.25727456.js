import{e as R,i as o,K as z,l as m,a0 as U,V as E,Z as P,v as B,o as p,x as e,y as V,D as j,F as x,u as s,s as Y,H as L,G as q,a1 as K,a as D,C as H,t as M,E as y,A as $,R as S,z as C,T,c as F,I as Z,J as Q}from"./entry.88758412.js";import{_ as O}from"./logo.62c54f25.js";import{o as W}from"./index.db799267.js";const X=R({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(N,{slots:i,attrs:r}){const n=o(!1);return z(()=>{n.value=!0}),a=>{var l;if(n.value)return(l=i.default)==null?void 0:l.call(i);const _=i.fallback||i.placeholder;if(_)return _();const f=a.fallback||a.placeholder||"",d=a.fallbackTag||a.placeholderTag||"span";return m(d,r,f)}}}),ee={class:"bg-darkGreen"},se={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},te={class:"relative flex h-16 items-center justify-between"},oe=Y('<div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>',1),ne={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},ae=e("div",{class:"flex flex-shrink-0 items-center"},[e("img",{class:"block h-8 w-8 lg:hidden",src:O,alt:"Your Company"}),e("img",{class:"hidden h-8 w-8 lg:block",src:O,alt:"Your Company"})],-1),le={class:"hidden sm:ml-6 sm:block"},ie={class:"flex space-x-4"},re={key:0},de={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},ce={class:"sm:hidden",id:"mobile-menu"},ue={class:"space-y-1 px-2 pt-2 pb-3"},pe={__name:"Nav",setup(N){const{toggle:i}=U(),{toggleSigup:r}=U(),{isAuth:n}=E(P()),a=B();async function _(){try{await a("/auth/jwt/destroy/",{method:"POST",credentials:"include"}),n.value=!1}catch(f){console.log(f.message)}finally{await L("/")}}return(f,d)=>{const l=q,h=X;return p(),m("nav",ee,[e("div",se,[e("div",te,[oe,e("div",ne,[ae,e("div",le,[e("div",ie,[V(l,{class:"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium",to:"/"},{default:j(()=>[x("Home")]),_:1}),V(l,{class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",to:"/dashboard/report"},{default:j(()=>[x(" DNA Testing Application")]),_:1})])])]),V(h,null,{default:j(()=>[s(n)?(p(),m("div",re,[e("button",{onClick:_,class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:ring-2 hover:ring-slate-100 hover:ring-inset"}," Logout ")])):(p(),m("div",de,[e("button",{id:"openModal",onClick:d[0]||(d[0]=(...g)=>s(i)&&s(i)(...g)),class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:ring-2 hover:ring-slate-100 hover:ring-inset"}," Sign in "),e("button",{id:"openModal",onClick:d[1]||(d[1]=(...g)=>s(r)&&s(r)(...g)),class:"inline-block rounded-lg py-1 px-2 text-sm text-white hover:bg-slate-100 hover:text-slate-900"}," Sign up ")]))]),_:1})])]),e("div",ce,[e("div",ue,[V(l,{class:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium",to:"/"},{default:j(()=>[x("Home")]),_:1}),V(l,{class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",to:"/dashboard/report"},{default:j(()=>[x("DNA Testing Application")]),_:1})])])])}}};function me(N,i){let r=n=>{const a=document.querySelectorAll("#openModal");n.target===N.value||n.composedPath().includes(N.value)||n.target===a[0]||i()};z(()=>{window.addEventListener("click",r),document.documentElement.style.overflow="hidden"}),K(()=>{window.removeEventListener("click",r),document.documentElement.style.overflow="",console.log("unmo")})}const _e={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},fe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ge={class:"fixed inset-0 z-10 overflow-y-auto"},he={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ve=["onSubmit"],be={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ye=e("h2",{class:"text-2xl font-bold"},"Sign in to your account",-1),xe={class:"mt-8"},we={class:"grid grid-cols-1 gap-6"},ke={key:0,class:"border-l-2 border-red-600 bg-red-200 p-4"},$e={class:"block"},Se=e("span",{class:"text-gray-700"},"Username",-1),Ce={class:"block"},Ne=e("span",{class:"text-gray-700"},"Password",-1),Me={class:"p-4"},Te={class:"flex flex-col items-center shrink-0"},Ue=["disabled"],Ve={key:0},Ee=e("span",{"aria-hidden":"true"},"\u2192",-1),je={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ae=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Be=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Ie=[Ae,Be],Fe={__name:"SignIn",setup(N){const i=o(null),r=o(null),n=o(null),a=o("");o("");const{showModal:_}=E(U()),{isAuth:f}=E(P()),{$showToast:d}=D(),l=o(!1),h=()=>{_.value=!1},g=B();me(i,h);async function w(){l.value=!0;try{const v=await g("/auth/jwt/create/",{method:"POST",credentials:"include",body:JSON.stringify({username:r.value,password:n.value})});f.value=!0,_.value=!1,d("Success","success",2e3),await L("/dashboard/report")}catch(v){a.value=v.response._data.Invalid,d("Fail Sign in","error",2e3)}finally{l.value=!1}}return(v,b)=>(p(),m("div",_e,[fe,e("div",ge,[e("div",he,[e("form",{onSubmit:H(w,["prevent"]),ref_key:"testModal",ref:i,class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[e("div",be,[ye,e("div",xe,[e("div",we,[s(a)?(p(),m("div",ke,M(s(a)),1)):y("",!0),e("label",$e,[Se,$(e("input",{"onUpdate:modelValue":b[0]||(b[0]=k=>C(r)?r.value=k:null),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[S,s(r)]])]),e("label",Ce,[Ne,$(e("input",{"onUpdate:modelValue":b[1]||(b[1]=k=>C(n)?n.value=k:null),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[S,s(n)]])]),e("div",Me,[e("div",Te,[e("button",{disabled:s(l),class:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-gray-800 text-white hover:text-slate-100 hover:bg-gray-500 active:bg-gray-800 active:text-gray-100 focus-visible:outline-gray-600 w-full"},[s(l)?(p(),m("svg",je,Ie)):(p(),m("span",Ve,[x("Sign in "),Ee]))],8,Ue)])])])])])],40,ve)])])]))}},Oe={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ze=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Pe={class:"fixed inset-0 z-10 overflow-y-auto"},Le={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},De=["onSubmit"],He={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ge=e("h2",{class:"text-2xl font-bold"},"Let's Get You Signed Up",-1),Je={class:"mt-8"},Re={class:"grid grid-cols-2 gap-6"},Ye={class:T({"error-input":!1})},qe={class:"block"},Ke=e("span",{class:"text-gray-700"},"First Name",-1),Ze={key:0,class:"text-pink-600"},Qe={class:"block"},We=e("span",{class:"text-gray-700"},"Last Name",-1),Xe={key:0,class:"text-pink-600"},es={class:"block col-span-2"},ss={class:"text-gray-700"},ts={key:0,class:"text-pink-600"},os={class:"block col-span-2"},ns=e("span",{class:"text-gray-700"},"Email address",-1),as={key:0,class:"text-pink-600"},ls={class:"block col-span-2"},is={class:"text-gray-700"},rs={key:0,class:"text-pink-600"},ds={class:"block col-span-2"},cs={class:"text-gray-700"},us={key:0,class:"text-pink-600"},ps=e("div",{class:"p-4 col-span-2"},[e("div",{class:"flex flex-col items-center shrink-0"},[e("button",{class:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-gray-800 text-white hover:text-slate-100 hover:bg-gray-500 active:bg-gray-800 active:text-gray-100 focus-visible:outline-gray-600 w-full",type:"submit"},[e("span",null,[x("Sign up "),e("span",{"aria-hidden":"true"},"\u2192")])])])],-1),ms={__name:"SignUp",setup(N){const{toggleSigup:i}=U(),r=o(null);E(U());const n=()=>{i()};W(r,n);const a=o(),_=o(),f=o(),d=o(""),l=o(""),h=o(""),g=o(""),w=o(""),v=o(),b=o(),k=o(),A=o(),{$showToast:I}=D(),G=B();async function J(){await G("/auth/users/",{method:"POST",body:JSON.stringify({email:b.value,first_name:a.value,last_name:_.value,username:f.value,password:k.value,re_password:A.value})}).then(()=>{I("Success","success",2e3),n()}).catch(c=>{console.log(c.response._data),d.value="first_name"in c.response._data?c.response._data.first_name[0]:"",l.value="last_name"in c.response._data?c.response._data.last_name[0]:"",v.value="email"in c.response._data?c.response._data.email[0]:"",h.value="username"in c.response._data?c.response._data.username[0]:"",g.value="password"in c.response._data?c.response._data.password[0]:"",w.value="re_password"in c.response._data?c.response._data.re_password[0]:"","non_field_errors"in c.response._data&&(g.value=c.response._data.non_field_errors[0],w.value=c.response._data.non_field_errors[0]),I("Fail","error",2e3)})}return(c,t)=>(p(),m("div",Oe,[ze,e("div",Pe,[e("div",Le,[e("div",{ref_key:"target",ref:r,class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[e("form",{onSubmit:H(J,["prevent"])},[e("div",He,[Ge,e("div",Je,[e("div",Re,[e("div",Ye,[e("label",qe,[Ke,s(d)?(p(),m("span",Ze,M(s(d)),1)):y("",!0),$(e("input",{class:T([{"error-input":s(d)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[0]||(t[0]=u=>d.value=""),"onUpdate:modelValue":t[1]||(t[1]=u=>C(a)?a.value=u:null),type:"text",placeholder:""},null,34),[[S,s(a)]])])]),e("label",Qe,[We,s(l)?(p(),m("span",Xe,M(s(l)),1)):y("",!0),$(e("input",{class:T([{"error-input":s(l)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[2]||(t[2]=u=>l.value=""),"onUpdate:modelValue":t[3]||(t[3]=u=>C(_)?_.value=u:null),type:"text",placeholder:""},null,34),[[S,s(_)]])]),e("label",es,[e("span",ss,[x("Username "),s(h)?(p(),m("span",ts,M(s(h)),1)):y("",!0)]),$(e("input",{class:T([{"error-input":s(h)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[4]||(t[4]=u=>h.value=""),"onUpdate:modelValue":t[5]||(t[5]=u=>C(f)?f.value=u:null),type:"text"},null,34),[[S,s(f)]])]),e("label",os,[ns,s(v)?(p(),m("span",as,M(s(v)),1)):y("",!0),$(e("input",{class:T([{"error-input":s(v)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[6]||(t[6]=u=>v.value=""),"onUpdate:modelValue":t[7]||(t[7]=u=>C(b)?b.value=u:null),type:"email",placeholder:"john@example.com"},null,34),[[S,s(b)]])]),e("label",ls,[e("span",is,[x("Password "),s(g)?(p(),m("span",rs,M(s(g)),1)):y("",!0)]),$(e("input",{class:T([{"error-input":s(g)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[8]||(t[8]=u=>g.value=""),"onUpdate:modelValue":t[9]||(t[9]=u=>C(k)?k.value=u:null),type:"password"},null,34),[[S,s(k)]])]),e("label",ds,[e("span",cs,[x("Confirm password "),s(w)?(p(),m("span",us,M(s(w)),1)):y("",!0)]),$(e("input",{class:T([{"error-input":s(w)},"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"]),onInput:t[10]||(t[10]=u=>w.value=""),"onUpdate:modelValue":t[11]||(t[11]=u=>C(A)?A.value=u:null),type:"password"},null,34),[[S,s(A)]])]),ps])])])],40,De)],512)])])]))}},hs={__name:"default",setup(N){const{showSigup:i}=E(U()),{showModal:r}=E(U());return(n,a)=>{const _=pe,f=Fe,d=ms;return p(),m(Q,null,[e("header",null,[V(_)]),s(r)?(p(),F(f,{key:0})):y("",!0),s(i)?(p(),F(d,{key:1})):y("",!0),Z(n.$slots,"default")],64)}}};export{hs as default};
