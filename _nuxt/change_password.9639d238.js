import{_ as g,a as b}from"./Section.8813580f.js";import{v as y,i,a as v,o as c,l as u,x as e,y as V,z as n,A as p,u as o,B as C,C as _,H as k,D as N,F as B}from"./entry.9ff7ed65.js";const S={class:"flex flex-wrap"},T={class:"w-full px-4"},F={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-100 border-0"},j=e("div",{class:"rounded-t bg-white mb-0 px-6 py-6"},[e("div",{class:"text-center flex justify-between"},[e("h6",{class:"text-gray-700 text-xl font-bold"}," Change your password ")])],-1),z={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},A=["onSubmit"],U={class:"flex flex-wrap gap-y-3"},$=e("hr",{class:"mt-6 border-b-1 border-gray-300"},null,-1),H={class:"p-3 flex justify-end gap-x-3"},M={class:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-orange-500 hover:bg-orange-400 transition ease-in-out duration-150 cursor-pointer",type:"submit"},O={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},D=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),E=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),I=[D,E],J=e("footer",{class:"block py-4"},[e("div",{class:"container mx-auto px-4"},[e("hr",{class:"mb-4 border-b-1 border-gray-200"})])],-1),G={__name:"change_password",setup(L){const w=y(),s=i({new_password:"",re_new_password:"",current_password:""}),l=i(!1),{$showToast:m}=v();async function f(){l.value=!0;try{await w("/auth/users/set_password/",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(s.value)}),m("Success","success",2e3),await B("/dashboard/profile")}catch(d){console.log(d.data)}finally{l.value=!1}}return(d,t)=>{const r=b,x=g,h=N;return c(),u(k,null,[e("div",S,[e("div",T,[e("div",F,[j,e("div",z,[e("form",{onSubmit:V(f,["prevent"])},[n(x,{msg:"Change your password"},{default:p(()=>[e("div",U,[n(r,{class:"w-full lg:w-7/12 px-4",modelValue:o(s).current_password,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).current_password=a),msg:"Current password",name:"password"},null,8,["modelValue"]),n(r,{class:"w-full lg:w-7/12 px-4",modelValue:o(s).new_password,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).new_password=a),msg:"New password",name:"password"},null,8,["modelValue"]),n(r,{class:"w-full lg:w-7/12 px-4",modelValue:o(s).re_new_password,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).re_new_password=a),msg:"Confirm password",name:"password"},null,8,["modelValue"])])]),_:1}),$,e("div",H,[n(h,{to:"/dashboard/profile",class:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-slate-500 hover:bg-slate-400 transition ease-in-out duration-150 cursor-pointer",type:"button"},{default:p(()=>[_(" Back ")]),_:1}),e("button",M,[o(l)?(c(),u("svg",O,I)):C("",!0),_(" Save ")])])],40,A)])])])]),J],64)}}};export{G as default};
