import{_ as A,a as B}from"./Section.8813580f.js";import{_ as I}from"./ProvinceAuto.a8f6c6af.js";import{_ as F,a as P,b as R}from"./ZipCodeAuto.c4420121.js";import{k as m,i as b,S as H,v as M,a as j,J,T as O,o as w,l as x,x as l,y as Z,z as r,A as U,u as s,B as L,C as V,D as X,E as c,F as Y}from"./entry.9ff7ed65.js";import{u as _}from"./fetch.9c013629.js";import"./index.14a89fd8.js";const q={class:"flex flex-wrap"},G={class:"w-full px-4"},K={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-100 border-0"},Q={class:"rounded-t bg-white mb-0 px-6 py-6"},W=["onSubmit"],h={class:"w-full flex flex-wrap gap-y-3"},tt=l("hr",{class:"mt-6 border-b-1 border-gray-300"},null,-1),et={class:"p-3 flex justify-end"},st={class:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-orange-500 hover:bg-orange-400 transition ease-in-out duration-150 cursor-pointer",type:"submit"},it={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},nt=l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),ot=l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),dt=[nt,ot],bt={__name:"[id]",async setup(rt){let d,u;const{data:y}=([d,u]=m(()=>_("/api/sub-district","$CgfuBRItED")),d=await d,u(),d),{data:z}=([d,u]=m(()=>_("/api/province","$fjgfupXkw8")),d=await d,u(),d),{data:C}=([d,u]=m(()=>_("/api/district","$ryt3fIlYmI")),d=await d,u(),d),n=b([]);y.value.forEach(o=>{const t=C.value.filter(p=>p.id===o.amphure_id),a=z.value.filter(p=>p.id===t[0].province_id);n.value.push({zipCode:o.zip_code.toString(),subDistrict:{nameTH:o.name_th,nameEN:o.name_en},district:{nameTH:t[0].name_th,nameEN:t[0].name_en},province:{nameTH:a[0].name_th,nameEN:a[0].name_en}})});const i=b({name:"",name_en:"",tax_id:"",branch_no:"",address:"",province:"",district:"",sub_district:"",address_en:"",province_en:"",district_en:"",sub_district_en:"",zip_code:""}),v=H(),N=b(!1),f=M(),{$showToast:g}=j();async function S(){console.log(JSON.stringify(i.value));try{await f(`/api/address/update/${v.params.id}/`,{headers:{"Content-Type":"application/json"},method:"PUT",credentials:"include",body:JSON.stringify(i.value)})&&g("Success","success",2e3),await Y("/dashboard/company")}catch(o){g("Fail","error",2e3),console.log(o.message)}}return J(async()=>{console.log();try{const o=await f(`/api/address/detail/${v.params.id}`,{credentials:"include"});i.value={...o}}catch(o){o.status==404&&(console.log(o.status),O({statusCode:404,statusMessage:"Page Not Found"}))}}),(o,t)=>{const a=B,p=I,D=F,$=P,T=R,k=A,E=X;return w(),x("div",q,[l("div",G,[l("div",K,[l("div",Q,[l("form",{onSubmit:Z(S,["prevent"])},[r(k,{msg:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 /Company information"},{default:U(()=>[l("div",h,[r(a,{class:"w-full lg:w-12/12 px-4",msg:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17",name:"text",modelValue:s(i).name,"onUpdate:modelValue":t[0]||(t[0]=e=>s(i).name=e)},null,8,["modelValue"]),r(a,{class:"w-full lg:w-12/12 px-4",msg:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48",name:"text",modelValue:s(i).address,"onUpdate:modelValue":t[1]||(t[1]=e=>s(i).address=e)},null,8,["modelValue"]),r(a,{class:"w-full lg:w-12/12 px-4",msg:"Company name",name:"text",modelValue:s(i).name_en,"onUpdate:modelValue":t[2]||(t[2]=e=>s(i).name_en=e)},null,8,["modelValue"]),r(a,{class:"w-full lg:w-6/12 px-4",msg:"\u0E40\u0E25\u0E02\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1C\u0E39\u0E49\u0E40\u0E2A\u0E35\u0E22\u0E20\u0E32\u0E29\u0E35/Tax ID",name:"text",modelValue:s(i).tax_id,"onUpdate:modelValue":t[3]||(t[3]=e=>s(i).tax_id=e)},null,8,["modelValue"]),r(a,{class:"w-full lg:w-6/12 px-4",msg:"\u0E2A\u0E32\u0E02\u0E32\u0E17\u0E35\u0E48/Branch No.",name:"text",modelValue:s(i).branch_no,"onUpdate:modelValue":t[4]||(t[4]=e=>s(i).branch_no=e)},null,8,["modelValue"]),r(a,{class:"w-full lg:w-12/12 px-4",msg:"ADDRESS",name:"text",modelValue:s(i).address_en,"onUpdate:modelValue":t[5]||(t[5]=e=>s(i).address_en=e)},null,8,["modelValue"]),r(p,{class:"w-full lg:w-6/12 px-4",msg:"\u0E08\u0E31\u0E07\u0E2B\u0E27\u0E31\u0E14/PROVINCE",eng:"true",zipcode:s(i).zip_code,"onUpdate:zipcode":t[6]||(t[6]=e=>s(i).zip_code=e),"sub-district":s(i).sub_district,"onUpdate:sub-district":t[7]||(t[7]=e=>s(i).sub_district=e),district:s(i).district,"onUpdate:district":t[8]||(t[8]=e=>s(i).district=e),modelValue:s(i).province,"onUpdate:modelValue":t[9]||(t[9]=e=>s(i).province=e),test:s(n),"onUpdate:test":t[10]||(t[10]=e=>c(n)?n.value=e:null),"district-en":s(i).district_en,"onUpdate:district-en":t[11]||(t[11]=e=>s(i).district_en=e),"province-en":s(i).province_en,"onUpdate:province-en":t[12]||(t[12]=e=>s(i).province_en=e),"sub-district-en":s(i).sub_district_en,"onUpdate:sub-district-en":t[13]||(t[13]=e=>s(i).sub_district_en=e)},null,8,["zipcode","sub-district","district","modelValue","test","district-en","province-en","sub-district-en"]),r(D,{class:"w-full lg:w-6/12 px-4",msg:"\u0E2D\u0E33\u0E40\u0E20\u0E2D/\u0E40\u0E02\u0E15/District",url:"/api/district",eng:"true",test:s(n),"onUpdate:test":t[14]||(t[14]=e=>c(n)?n.value=e:null),modelValue:s(i).district,"onUpdate:modelValue":t[15]||(t[15]=e=>s(i).district=e),province:s(i).province,"onUpdate:province":t[16]||(t[16]=e=>s(i).province=e),"sub-district":s(i).sub_district,"onUpdate:sub-district":t[17]||(t[17]=e=>s(i).sub_district=e),zipcode:s(i).zip_code,"onUpdate:zipcode":t[18]||(t[18]=e=>s(i).zip_code=e),"district-en":s(i).district_en,"onUpdate:district-en":t[19]||(t[19]=e=>s(i).district_en=e),"province-en":s(i).province_en,"onUpdate:province-en":t[20]||(t[20]=e=>s(i).province_en=e),"sub-district-en":s(i).sub_district_en,"onUpdate:sub-district-en":t[21]||(t[21]=e=>s(i).sub_district_en=e)},null,8,["test","modelValue","province","sub-district","zipcode","district-en","province-en","sub-district-en"]),r($,{class:"w-full lg:w-6/12 px-4",msg:"\u0E15\u0E33\u0E1A\u0E25/\u0E41\u0E02\u0E27\u0E07/Sub-district",url:"/api/sub-district",eng:"true",test:s(n),"onUpdate:test":t[22]||(t[22]=e=>c(n)?n.value=e:null),district:s(i).district,"onUpdate:district":t[23]||(t[23]=e=>s(i).district=e),province:s(i).province,"onUpdate:province":t[24]||(t[24]=e=>s(i).province=e),modelValue:s(i).sub_district,"onUpdate:modelValue":t[25]||(t[25]=e=>s(i).sub_district=e),"district-en":s(i).district_en,"onUpdate:district-en":t[26]||(t[26]=e=>s(i).district_en=e),"province-en":s(i).province_en,"onUpdate:province-en":t[27]||(t[27]=e=>s(i).province_en=e),"sub-district-en":s(i).sub_district_en,"onUpdate:sub-district-en":t[28]||(t[28]=e=>s(i).sub_district_en=e),zipcode:s(i).zip_code,"onUpdate:zipcode":t[29]||(t[29]=e=>s(i).zip_code=e)},null,8,["test","district","province","modelValue","district-en","province-en","sub-district-en","zipcode"]),r(T,{class:"w-full lg:w-6/12 px-4",msg:"\u0E23\u0E2B\u0E31\u0E2A\u0E44\u0E1B\u0E23\u0E29\u0E13\u0E35\u0E22\u0E4C/ZIP Code",url:"/api/sub-district",keyfiled:"zip_code",eng:"true",test:s(n),"onUpdate:test":t[30]||(t[30]=e=>c(n)?n.value=e:null),modelValue:s(i).zip_code,"onUpdate:modelValue":t[31]||(t[31]=e=>s(i).zip_code=e),district:s(i).district,"onUpdate:district":t[32]||(t[32]=e=>s(i).district=e),province:s(i).province,"onUpdate:province":t[33]||(t[33]=e=>s(i).province=e),"sub-district":s(i).sub_district,"onUpdate:sub-district":t[34]||(t[34]=e=>s(i).sub_district=e),"district-en":s(i).district_en,"onUpdate:district-en":t[35]||(t[35]=e=>s(i).district_en=e),"province-en":s(i).province_en,"onUpdate:province-en":t[36]||(t[36]=e=>s(i).province_en=e),"sub-district-en":s(i).sub_district_en,"onUpdate:sub-district-en":t[37]||(t[37]=e=>s(i).sub_district_en=e)},null,8,["test","modelValue","district","province","sub-district","district-en","province-en","sub-district-en"])])]),_:1}),tt,l("div",et,[r(E,{class:"mr-3 inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-slate-500 hover:bg-slate-400 transition ease-in-out duration-150 cursor-pointer",to:"/dashboard/company/"},{default:U(()=>[V(" Cancel ")]),_:1}),l("button",st,[s(N)?(w(),x("svg",it,dt)):L("",!0),V(" Save ")])])],40,W)])])])])}}};export{bt as default};
