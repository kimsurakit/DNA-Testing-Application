import{i as v,k as V,j as w,o as c,l as i,x as h,t as y,u as f,H as k,I as C,B}from"./entry.9ff7ed65.js";import{u as $}from"./fetch.9c013629.js";import{o as G}from"./index.14a89fd8.js";const L={class:"relative"},N={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"},A=["value"],D=["onClick"],j={__name:"AutoComplete",props:["msg","modelValue","url","keyfiled","eng"],emits:["update:modelValue","update:eng"],async setup(s,{emit:o}){let r,g;const t=s,p=v(null),d="name_th",{data:m}=([r,g]=V(()=>$(t.url,"$43gDv0yls4")),r=await r,g(),r),n=v(!1);G(p,()=>{n.value=!1});function _(e){n.value=!0;let l=e.target.value;o("update:modelValue",l),a.value.length>1||!l?o("update:eng",""):a.value.length===1&&o("update:eng",a.value[0].name_en)}const a=w({get(){if(t.modelValue===""||!t.modelValue)return[...m.value];let e=0;return m.value.filter(l=>{if(l[d].toLowerCase().includes(t.modelValue.toLowerCase())&&e<10)return e++,l})},set(e){}});function b(){(t.modelValue===""||!t.modelValue)&&(n.value=!0,a.value=[...m.value])}const x=e=>{o("update:modelValue",e[d]),o("update:eng",e.name_en),n.value=!1};return(e,l)=>(c(),i("div",L,[h("label",N,y(s.msg),1),h("input",{type:"text",value:s.modelValue,onClick:b,onInput:_,class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},null,40,A),f(a).length&&f(n)?(c(),i("ul",{key:0,ref_key:"target",ref:p,class:"max-h-56 overflow-y-auto absolute z-20 w-48 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200"},[(c(!0),i(k,null,C(f(a),u=>(c(),i("li",{class:"py-2 px-4 w-full rounded-t-lg border-b border-gray-200 cursor-pointer",key:u.id,onClick:I=>x(u)},y(s.eng!==void 0?`${u[d]} / ${u.name_en}`:u[d]),9,D))),128))],512)):B("",!0)]))}};export{j as _};
