import w from"./Icon.7f1bb2d7.js";import{i as l,a as k,v as C,J as j,o as i,l as c,L as B,M as N,u as o,x as e,y as A,t as a,z as n,A as b,H as v,I as D,B as M,D as z}from"./entry.9ff7ed65.js";import{o as S}from"./index.14a89fd8.js";const T={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},$=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),E={class:"fixed inset-0 z-10 overflow-y-auto"},F={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},L=["onSubmit"],V={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},H={class:"text-2xl font-bold"},I={class:"mt-8"},O={class:"grid grid-cols-1 gap-6"},J={class:"p-4"},R={class:"flex flex-col items-center shrink-0"},X=["disabled"],q={key:0},G={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},K=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),P=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Q=[K,P],U={class:"flex flex-wrap"},W={class:"w-full px-4"},Y={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-100 border-0"},Z={class:"rounded-t bg-white mb-0 px-6 py-6"},ee=e("div",{class:"flex flex-wrap items-center py-5"},[e("h1",{class:"text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight"}," My Address ")],-1),se={class:"grid grid-cols-6 gap-1"},te=e("div",{class:"flex items-center justify-center"},[e("h2",{class:"mb-4 mr-auto text-xl font-semibold"}," Create New Address ")],-1),oe={class:"p-4 text-8xl flex items-center justify-center"},ae={class:"flex items-center justify-end"},le={class:"mb-4 mr-auto text-xl font-semibold text-gray-600"},ie={class:"flex flex-wrap flex-col items-start justify-center mb-4"},ce={class:"mb-4 text-base text-gray-700"},ne={class:"mb-4 flex items-end"},re=e("p",{class:"text-sm text-gray-400"}," \u0E40\u0E25\u0E02\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1C\u0E39\u0E49\u0E40\u0E2A\u0E35\u0E22\u0E20\u0E32\u0E29\u0E35/TAX ID ",-1),de={class:"ml-3 text-base text-gray-700"},_e={class:"mb-4 flex items-end"},ue=e("p",{class:"text-sm text-gray-400"},"\u0E2A\u0E32\u0E02\u0E32\u0E17\u0E35\u0E48/BRANCH NO.",-1),he={class:"ml-3 text-base text-gray-700"},ye={__name:"index",setup(me){const m=l(null),{$showToast:x}=k();S(m,()=>{_.value=!1});const r=l([]),f=l(!1),u=C(),d=l(""),_=l(!1);j(async()=>{try{const s=await u("/api/address/list_create",{credentials:"include"});s.results&&(r.value=[...s.results])}catch(s){console.log(s.response)}});function g(s){d.value={...s},_.value=!0}async function y(){try{await u(`/api/address/delete/${d.value.id}/`,{headers:{"Content-Type":"application/json"},method:"DELETE",credentials:"include"}),x("Success","success",2e3),d.value="";const s=await u("/api/address/list_create",{credentials:"include"});s&&(r.value=[...s])}catch(s){x("Fail","error",2e3),console.log(s.message)}finally{_.value=!1}}return(s,fe)=>{const h=w,p=z;return i(),c(v,null,[B(e("div",T,[$,e("div",E,[e("div",F,[e("form",{onSubmit:A(y,["prevent"]),ref_key:"target",ref:m,class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[e("div",V,[e("h2",H," \u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A "+a(o(d).name),1),e("div",I,[e("div",O,[e("div",J,[e("div",R,[e("button",{disabled:o(f),class:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-red-600 text-white hover:text-slate-100 hover:bg-gray-500 active:bg-gray-800 active:text-gray-100 focus-visible:outline-gray-600 w-full"},[o(f)?(i(),c("svg",G,Q)):(i(),c("span",q,"Delete "))],8,X)])])])])])],40,L)])])],512),[[N,o(_)]]),e("div",U,[e("div",W,[e("div",Y,[e("div",Z,[ee,e("div",se,[n(p,{to:"/dashboard/company/create",class:"col-span-3 p-4 mb-6 rounded-md text-gray-600 hover:border-blue-500 border-2 cursor-pointer hover:text-blue-500"},{default:b(()=>[te,e("div",oe,[n(h,{name:"ic:baseline-add-circle-outline"})])]),_:1}),o(r)?(i(!0),c(v,{key:0},D(o(r),t=>(i(),c("div",{key:t.id,class:"col-span-3 p-4 mb-6 rounded-md bg-gray-50"},[e("div",ae,[e("h2",le,a(t.name)+" ("+a(t.name_en)+") ",1),n(p,{to:`/dashboard/company/update/${t.id}`},{default:b(()=>[n(h,{class:"ml-3 w-6 h-6 cursor-pointer hover:text-blue-500",name:"ic:baseline-edit"})]),_:2},1032,["to"]),n(h,{onClick:pe=>g(t),class:"w-6 h-6 cursor-pointer hover:text-red-500",name:"ic:baseline-delete"},null,8,["onClick"])]),e("div",ie,[e("p",ce,a([t.address,t.province,t.district,t.sub_district,t.zip_code].join(",")),1),e("div",ne,[re,e("p",de,a(t.tax_id),1)]),e("div",_e,[ue,e("p",he,a(t.branch_no),1)])])]))),128)):M("",!0)])])])])])],64)}}};export{ye as default};
